

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SPI HAL &mdash; embARC BSP Project Documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="UART HAL" href="uart.html" />
    <link rel="prev" title="I2S HAL" href="i2s.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> embARC
          

          
          </a>

          
            
            
              <div class="version">
                2019.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Documentation Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arc/index.html">ARC Processors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="device.html">Devices</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="device.html#overview">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="device.html#id1">Device HAL</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2s.html">I2S HAL</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">SPI HAL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdio.html">SDIO HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="trng.html">TRNG HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm_timer.html">PWM_TIMER HAL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="device.html#ip-drivers">IP Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="device.html#driver-instantiation">Driver Instantiation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../board/board.html">Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lib/library.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/developer_guides.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">embARC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="device.html">Devices</a> &raquo;</li>
        
      <li>SPI HAL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="spi-hal">
<span id="device-hal-spi"></span><h1>SPI HAL<a class="headerlink" href="#spi-hal" title="Permalink to this headline">¶</a></h1>
<p>The SPI HAL definitions is in <code class="docutils literal notranslate"><span class="pre">dev_spi.h</span></code>, it provide interfaces for spi
driver to implement.</p>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl class="group">
<dt>
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT"></span><em>group</em> <code class="sig-name descname">DEVICE_HAL_SPI_DEVSTRUCT</code></dt>
<dd><p>Structure definitions for spi device. </p>
<p>These structure will be used in user implemented code, which was called Device Driver Implement Layer for spi to realize in user code. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Defines</p>
<dl class="macro">
<dt id="c.DEV_SPI_XFER_SET_TXBUF">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1gafa61a7a7c000462a82f2444ae25af2bb"></span><code class="sig-name descname">DEV_SPI_XFER_SET_TXBUF</code><span class="sig-paren">(</span>xfer, buf, ofs, len<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_XFER_SET_TXBUF" title="Permalink to this definition">¶</a></dt>
<dd><p>Set tx buffer of device spi transfer </p>
</dd></dl>

<dl class="macro">
<dt id="c.DEV_SPI_XFER_SET_RXBUF">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga13ef217b2a46833d9d83d41dca34d152"></span><code class="sig-name descname">DEV_SPI_XFER_SET_RXBUF</code><span class="sig-paren">(</span>xfer, buf, ofs, len<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_XFER_SET_RXBUF" title="Permalink to this definition">¶</a></dt>
<dd><p>Set rx buffer of device spi transfer </p>
</dd></dl>

<dl class="macro">
<dt id="c.DEV_SPI_XFER_CALC_TOTLEN">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga4a968d6e09efb89c82c6f0943fce15a1"></span><code class="sig-name descname">DEV_SPI_XFER_CALC_TOTLEN</code><span class="sig-paren">(</span>xfer<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_XFER_CALC_TOTLEN" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate total length of current transfer without next transfer </p>
</dd></dl>

<dl class="macro">
<dt id="c.DEV_SPI_XFER_SET_NEXT">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga7f2d84c08d3c7130a82e1414da26ad74"></span><code class="sig-name descname">DEV_SPI_XFER_SET_NEXT</code><span class="sig-paren">(</span>xfer, next_xfer<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_XFER_SET_NEXT" title="Permalink to this definition">¶</a></dt>
<dd><p>Set next SPI transfer </p>
</dd></dl>

<dl class="macro">
<dt id="c.DEV_SPI_XFER_INIT">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga22c23668b451fd0554ce588289ed54c3"></span><code class="sig-name descname">DEV_SPI_XFER_INIT</code><span class="sig-paren">(</span>xfer<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_XFER_INIT" title="Permalink to this definition">¶</a></dt>
<dd><p>Init spi transfer </p>
</dd></dl>

<dl class="macro">
<dt id="c.DEV_SPI_INFO_SET_EXTRA_OBJECT">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga354000dde22f74e03fe31398427d3f89"></span><code class="sig-name descname">DEV_SPI_INFO_SET_EXTRA_OBJECT</code><span class="sig-paren">(</span>spi_info_ptr, extra_info<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_INFO_SET_EXTRA_OBJECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Set extra information pointer of spi info </p>
</dd></dl>

<dl class="macro">
<dt id="c.DEV_SPI_INFO_GET_EXTRA_OBJECT">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1gae4b36ea0d96870590ff54beff78dfd37"></span><code class="sig-name descname">DEV_SPI_INFO_GET_EXTRA_OBJECT</code><span class="sig-paren">(</span>spi_info_ptr<span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_SPI_INFO_GET_EXTRA_OBJECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Get extra information pointer of spi info </p>
</dd></dl>

<dl class="macro">
<dt id="c.SPI_DFS_DEFAULT">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1gaa32c7741fd1467614b5908e38af740a3"></span><code class="sig-name descname">SPI_DFS_DEFAULT</code><a class="headerlink" href="#c.SPI_DFS_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd><p>Default spi data frame size </p>
</dd></dl>

<dl class="macro">
<dt id="c.SPI_SLAVE_NOT_SELECTED">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga586076350631be95b49d18994622b0eb"></span><code class="sig-name descname">SPI_SLAVE_NOT_SELECTED</code><a class="headerlink" href="#c.SPI_SLAVE_NOT_SELECTED" title="Permalink to this definition">¶</a></dt>
<dd><p>Slave is not selected </p>
</dd></dl>

<dl class="macro">
<dt id="c.SPI_DUMMY_DEFAULT">
<span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1gae7d05f1d5a9b9c1342951d816b3f8a2f"></span><code class="sig-name descname">SPI_DUMMY_DEFAULT</code><a class="headerlink" href="#c.SPI_DUMMY_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd><p>default dummy value for first open </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Typedefs</p>
<dl class="type">
<dt id="_CPPv416DEV_SPI_TRANSFER">
<span id="_CPPv316DEV_SPI_TRANSFER"></span><span id="_CPPv216DEV_SPI_TRANSFER"></span><span id="DEV_SPI_TRANSFER"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga296ca50563d3df910743a6c1001946c6"></span><em class="property">typedef </em><em class="property">struct</em> <a class="reference internal" href="#_CPPv416dev_spi_transfer" title="dev_spi_transfer">dev_spi_transfer</a> <code class="sig-name descname">DEV_SPI_TRANSFER</code><a class="headerlink" href="#_CPPv416DEV_SPI_TRANSFER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="type">
<dt id="_CPPv420DEV_SPI_TRANSFER_PTR">
<span id="_CPPv320DEV_SPI_TRANSFER_PTR"></span><span id="_CPPv220DEV_SPI_TRANSFER_PTR"></span><span id="DEV_SPI_TRANSFER_PTR"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1gaf45a8c9a363591c178f7f75c7294b58a"></span><em class="property">typedef </em><em class="property">struct</em> <a class="reference internal" href="#_CPPv416dev_spi_transfer" title="dev_spi_transfer">dev_spi_transfer</a> *<code class="sig-name descname">DEV_SPI_TRANSFER_PTR</code><a class="headerlink" href="#_CPPv420DEV_SPI_TRANSFER_PTR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="type">
<dt id="_CPPv415DEV_SPI_PAK_PTR">
<span id="_CPPv315DEV_SPI_PAK_PTR"></span><span id="_CPPv215DEV_SPI_PAK_PTR"></span><span id="DEV_SPI_PAK_PTR"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga9c2b7129610aeae9da3fd46ab8dc9f36"></span><em class="property">typedef </em><em class="property">struct</em> <a class="reference internal" href="#_CPPv411DEV_SPI_PAK" title="DEV_SPI_PAK">DEV_SPI_PAK</a> *<code class="sig-name descname">DEV_SPI_PAK_PTR</code><a class="headerlink" href="#_CPPv415DEV_SPI_PAK_PTR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="type">
<dt id="_CPPv416DEV_SPI_INFO_PTR">
<span id="_CPPv316DEV_SPI_INFO_PTR"></span><span id="_CPPv216DEV_SPI_INFO_PTR"></span><span id="DEV_SPI_INFO_PTR"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga8382c5a5acc3eca8b05d6297b28b3445"></span><em class="property">typedef </em><em class="property">struct</em> <a class="reference internal" href="#_CPPv412DEV_SPI_INFO" title="DEV_SPI_INFO">DEV_SPI_INFO</a> *<code class="sig-name descname">DEV_SPI_INFO_PTR</code><a class="headerlink" href="#_CPPv416DEV_SPI_INFO_PTR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="type">
<dt id="_CPPv411DEV_SPI_PTR">
<span id="_CPPv311DEV_SPI_PTR"></span><span id="_CPPv211DEV_SPI_PTR"></span><span id="DEV_SPI_PTR"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga37272142669e902623fa64735ff3ac8c"></span><em class="property">typedef </em><em class="property">struct</em> <a class="reference internal" href="#_CPPv47DEV_SPI" title="DEV_SPI">DEV_SPI</a> *<code class="sig-name descname">DEV_SPI_PTR</code><a class="headerlink" href="#_CPPv411DEV_SPI_PTR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Variables</p>
<dl class="member">
<dt id="_CPPv4N7DEV_SPI8spi_openE">
<span id="_CPPv3N7DEV_SPI8spi_openE"></span><span id="_CPPv2N7DEV_SPI8spi_openE"></span><span id="DEV_SPI::spi_open__int32_tP"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga76dc62e9fbc37c84f83744b6300ebd3c"></span>int32_t *<code class="sig-name descname">spi_open</code><a class="headerlink" href="#_CPPv4N7DEV_SPI8spi_openE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>open spi device in master/slave mode, \ when in master mode, param stands for frequency, \ when in slave mode, param stands for clock mode</p>
<p>Open an spi device with selected mode (master or slave) with defined param <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">mode</span></code>: Working mode (master or slave) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">param</span></code>: When mode is DEV_MASTER_MODE, param stands for frequency, when mode is DEV_SLAVE_MODE, param stands for slave clock mode </p></li>
</ul>
</dd>
<dt><strong>Return Value</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">E_OK</span></code>: Open successfully without any issues </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OPNED</span></code>: If device was opened before with different parameters, then just increase the opn_cnt and return E_OPNED </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OBJ</span></code>: Device object is not valid </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_SYS</span></code>: Device is opened for different mode before, if you want to open it with different mode, you need to fully close it first. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_PAR</span></code>: Parameter is not valid </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_NOSPT</span></code>: Open settings are not supported </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N7DEV_SPI9spi_closeE">
<span id="_CPPv3N7DEV_SPI9spi_closeE"></span><span id="_CPPv2N7DEV_SPI9spi_closeE"></span><span id="DEV_SPI::spi_close__int32_tP"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1gac91ee54e8fc86263c118ad915cb82116"></span>int32_t *<code class="sig-name descname">spi_close</code><a class="headerlink" href="#_CPPv4N7DEV_SPI9spi_closeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>close spi device</p>
<p>Close an spi device, just decrease the opn_cnt, if opn_cnt equals 0, then close the device <dl class="simple">
<dt><strong>Return Value</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">E_OK</span></code>: Close successfully without any issues(including scenario that device is already closed) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OPNED</span></code>: Device is still opened, the device opn_cnt decreased by 1 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OBJ</span></code>: Device object is not valid </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N7DEV_SPI11spi_controlE">
<span id="_CPPv3N7DEV_SPI11spi_controlE"></span><span id="_CPPv2N7DEV_SPI11spi_controlE"></span><span id="DEV_SPI::spi_control__int32_tP"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga827e9145bc57364eb611f19127706ac8"></span>int32_t *<code class="sig-name descname">spi_control</code><a class="headerlink" href="#_CPPv4N7DEV_SPI11spi_controlE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>control spi device</p>
<p>Control an spi device by ctrl_cmd, with passed param. you can control spi device using predefined spi control commands defined using DEV_SET_SYSCMD (which must be implemented by bsp developer), such as set spi master frequency, flush tx and more. And you can also control spi device using your own specified commands defined using DEV_SET_USRCMD, but these specified commands should be defined in your own spi device driver implementation. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">ctrl_cmd</span></code>: control command, to change or get some thing related to spi </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[inout]</span> <span class="pre">param</span></code>: Parameters that maybe argument of the command, or return values of the command, must not be NULL </p></li>
</ul>
</dd>
<dt><strong>Return Value</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">E_OK</span></code>: Control device successfully </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_CLSED</span></code>: Device is not opened </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OBJ</span></code>: Device object is not valid or not exists </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_PAR</span></code>: Parameter is not valid for current control command </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_SYS</span></code>: Control device failed, due to hardware issues, such as device is disabled </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_CTX</span></code>: Control device failed, due to different reasons like in transfer state </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_NOSPT</span></code>: Control command is not supported or not valid </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N7DEV_SPI9spi_writeE">
<span id="_CPPv3N7DEV_SPI9spi_writeE"></span><span id="_CPPv2N7DEV_SPI9spi_writeE"></span><span id="DEV_SPI::spi_write__int32_tP"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga5dddc1fc0a2e21f188611b6657c3e6b0"></span>int32_t *<code class="sig-name descname">spi_write</code><a class="headerlink" href="#_CPPv4N7DEV_SPI9spi_writeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>send data to spi device (blocking method)</p>
<p>Send data through spi with defined len to slave device . <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">data</span></code>: Pointer to data need to send by spi </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">len</span></code>: Length of data to be sent </p></li>
</ul>
</dd>
<dt><strong>Return Value</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>: 0 Byte count that was successfully sent for poll method </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OBJ</span></code>: Device object is not valid or not exists </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_PAR</span></code>: Parameter is not valid </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_CTX</span></code>: Device is still in transfer state </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_SYS</span></code>: Can’t write data to hardware due to hardware issues, such as device is disabled </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N7DEV_SPI8spi_readE">
<span id="_CPPv3N7DEV_SPI8spi_readE"></span><span id="_CPPv2N7DEV_SPI8spi_readE"></span><span id="DEV_SPI::spi_read__int32_tP"></span><span class="target" id="group__DEVICE__HAL__SPI__DEVSTRUCT_1ga7543acdd354a2569d1919f78cfaa89a5"></span>int32_t *<code class="sig-name descname">spi_read</code><a class="headerlink" href="#_CPPv4N7DEV_SPI8spi_readE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>read data from spi device (blocking method)</p>
<p>receive data of defined len through spi from slave device . <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">data</span></code>: Pointer to data need to received by spi </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">len</span></code>: Length of data to be received </p></li>
</ul>
</dd>
<dt><strong>Return Value</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>: 0 Byte count that was successfully received for poll method </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_OBJ</span></code>: Device object is not valid or not exists </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_CTX</span></code>: Device is still in transfer state </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_PAR</span></code>: Parameter is not valid </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">E_SYS</span></code>: Can’t receive data from hardware due to hardware issues, such as device is disabled </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<dl class="class">
<dt id="_CPPv416dev_spi_transfer">
<span id="_CPPv316dev_spi_transfer"></span><span id="_CPPv216dev_spi_transfer"></span><span id="dev_spi_transfer"></span><span class="target" id="structdev__spi__transfer"></span><em class="property">struct </em><code class="sig-name descname">dev_spi_transfer</code><a class="headerlink" href="#_CPPv416dev_spi_transfer" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;dev_spi.h&gt;</em><p>SPI read and write data structure used by SPI_CMD_TRANSFER_INT or SPI_CMD_TRANSFER_POLLING spi write then read data. </p>
</dd></dl>

<dl class="class">
<dt id="_CPPv411DEV_SPI_PAK">
<span id="_CPPv311DEV_SPI_PAK"></span><span id="_CPPv211DEV_SPI_PAK"></span><span id="DEV_SPI_PAK"></span><span class="target" id="structDEV__SPI__PAK"></span><em class="property">struct </em><code class="sig-name descname">DEV_SPI_PAK</code><a class="headerlink" href="#_CPPv411DEV_SPI_PAK" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;dev_spi.h&gt;</em><p>SPI read and write data structure used by SPI_CMD_QUAD_READ spi write cmd and address then read data. </p>
</dd></dl>

<dl class="class">
<dt id="_CPPv412DEV_SPI_INFO">
<span id="_CPPv312DEV_SPI_INFO"></span><span id="_CPPv212DEV_SPI_INFO"></span><span id="DEV_SPI_INFO"></span><span class="target" id="structDEV__SPI__INFO"></span><em class="property">struct </em><code class="sig-name descname">DEV_SPI_INFO</code><a class="headerlink" href="#_CPPv412DEV_SPI_INFO" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;dev_spi.h&gt;</em><p>Structure definitions for spi information. </p>
<p>Informations about spi open state, working state, frequency, spi registers, working method, interrupt number </p>
</dd></dl>

<dl class="class">
<dt id="_CPPv47DEV_SPI">
<span id="_CPPv37DEV_SPI"></span><span id="_CPPv27DEV_SPI"></span><span id="DEV_SPI"></span><span class="target" id="structDEV__SPI"></span><em class="property">struct </em><code class="sig-name descname">DEV_SPI</code><a class="headerlink" href="#_CPPv47DEV_SPI" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;dev_spi.h&gt;</em><p>Structure definitions for spi device. </p>
<p>Define spi device interface, like spi information structure, fuctions to get spi info, open/close/control spi, send/receive data by spi <dl class="simple">
<dt><strong>Note</strong></dt><dd><p>All this details are implemented by user in user porting code </p>
</dd>
</dl>
</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Synopsys
      <span class="lastupdated">
        Last updated on Jan 14, 2020.
      </span>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>